<div class="relative group" data-controller="clipboard">
  <pre class="bg-gray-900 text-gray-100 rounded-lg p-4 overflow-x-auto text-sm pr-12"><code data-clipboard-target="source"><%= code %></code></pre>
  <button 
    data-action="click->clipboard#copy"
    data-clipboard-target="button"
    class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-700 hover:bg-gray-600 text-gray-300 px-3 py-1 rounded text-xs flex items-center gap-1"
    title="Copy to clipboard">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
    </svg>
    Copy
  </button>
</div>